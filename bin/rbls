#!/usr/bin/env ruby
# frozen_string_literal: true

# Parse command line options
show_all = false
reverse_sort = false

ARGV.each do |arg|
  if arg.start_with?('-')
    show_all = true if arg.include?('a')
    reverse_sort = true if arg.include?('r')
  end
end

# List files in current directory
entries = if show_all
            Dir.entries('.')
          else
            Dir.entries('.').reject { |e| e.start_with?('.') }
          end

sorted_entries = reverse_sort ? entries.sort.reverse : entries.sort

sorted_entries.each { |entry| puts entry }